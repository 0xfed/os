From 2f8cde9968d20aafbbf5d3712699b8f6f89294d5 Mon Sep 17 00:00:00 2001
From: Mark McCormick <mark.mccormick@chainguard.dev>
Date: Fri, 29 Sep 2023 11:11:51 +0100
Subject: [PATCH] Adding two additional log lines to help with debugging and
 understanding whats going on

Signed-off-by: Mark McCormick <mark.mccormick@chainguard.dev>
---
 main.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/main.go b/main.go
index c77a0fa..99dcdbb 100644
--- a/main.go
+++ b/main.go
@@ -206,10 +206,11 @@ func main() {
                 }
 	}
 
+	glog.V(0).Infof("Attempting to watch directory: %s", pluginapi.DevicePluginPath)
 	glog.V(0).Info("Starting FS watcher.")
 	watcher, err := newFSWatcher(pluginapi.DevicePluginPath)
 	if err != nil {
-		glog.V(0).Info("Failed to created FS watcher.")
+		glog.V(0).Infof("Failed to create FS watcher. Error: %v", err)
 		os.Exit(1)
 	}
 	defer watcher.Close()
-- 
GitLab