package:
  name: mamba
  version: 2024.03.25
  epoch: 0
  description: Cross-Platform Package Manager
  copyright:
    - license: BSD-3-Clause

environment:
  contents:
    packages:
      - build-base
      - busybox
      - ca-certificates-bundle
      - make
      - cmake
      - ccache
      - openssl-dev
      - libarchive-dev
      - curl-dev
      - clang
      - python3-dev
      - samurai
      - nlohmann-json
      - yaml-cpp-dev
      - libsolv-dev
      - zstd-dev
      - py3-pybind11-dev
      - cli11
      - doctest
      - tl-expected
      - fmt-dev
      - reproc
      - reproc++
      - simdjson-dev
      - spdlog-dev

pipeline:
  - uses: git-checkout
    with:
      expected-commit: 4f269258b4237a342da3e9891045cdd51debb27c
      repository: https://github.com/mamba-org/mamba
      tag: ${{package.version}}
  
  - uses: cmake/configure
    with:
      opts: |
        -DBUILD_LIBMAMBA="ON" \
        -DBUILD_SHARED="ON" \

  - uses: cmake/build

  - uses: cmake/install

  - uses: strip

update:
  enabled: true
  github:
    identifier: mamba-org/mamba